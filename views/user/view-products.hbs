<section class="babycart-container"> 
    <div class="row"> 
        {{#each allproducts}}   
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 mt-3"> 
                <div class="babycart-card">
                  <img src="/product-images/{{this.image}}" class="babycart-card-img-top" alt="Card image cap"> 
                    <div class="card-body">
                        <h5 class="babycart-product-title"> {{this.name}} </h5>
                         <p class="babycart-product-description"> {{this.description}} </p>
                         <button onclick="addToCart('{{this._id}}')" class="babycart-btn">
  <i class="fas fa-shopping-cart"></i> Add to cart 
</button>
                         <span class="text-muted ml-3">â‚¹<span class="price">{{this.price}}</span></span>
                    </div>
                </div> 
            </div>
        {{/each}} 
    </div> 
</section>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  
<script>
var $j = jQuery.noConflict();

function addToCart(id) {
  $j.ajax({
    url: '/add-to-cart/' + id,
    type: 'GET',
    success: function(response) {
      // Update the cart badge with the new total quantity
      $j('#cart-badge').text(response.totalQuantity);
    },
    error: function(error) {
      console.log(error);
    }
  });
}



</script>
 
